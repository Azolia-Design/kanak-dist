import{j as i}from"./jsx-runtime.KYujgZxC.js";/* empty css                               */import{r as p}from"./index.068npczX.js";import{c as _}from"./text.q5Rw84jT.js";import{u as I}from"./react.ykkgeo-1.js";/* empty css                             */const h={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"},f={Any:"Any",Document:"Document",Media:"Media",Web:"Web"},C=t=>{var e;return{link_type:f.Document,id:t.id,uid:t.uid||void 0,type:t.type,tags:t.tags,lang:t.lang,url:t.url==null?void 0:t.url,slug:(e=t.slugs)==null?void 0:e[0],...t.data&&Object.keys(t.data).length>0?{data:t.data}:{}}},M=(t,...e)=>{if(!t)return null;const n="link_type"in t?t:C(t),[l]=e;let s;switch(typeof l=="function"||l==null?s={linkResolver:l}:s={...l},n.link_type){case f.Media:case f.Web:return"url"in n?n.url:null;case f.Document:{if("id"in n&&s.linkResolver){const a=s.linkResolver(n);if(a!=null)return a}return"url"in n&&n.url?n.url:null}case f.Any:default:return null}},E=/["'&<>]/,w=t=>{const e=""+t,n=E.exec(e);if(!n)return e;let l,s="",a=0,r=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:l="&quot;";break;case 38:l="&amp;";break;case 39:l="&#39;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}r!==a&&(s+=e.substring(r,a)),r=a+1,s+=l}return r!==a?s+e.substring(r,a):s},N=(t,e)=>{const n={...e};"data"in t&&"label"in t.data&&t.data.label&&(n.class=n.class?`${n.class} ${t.data.label}`:t.data.label);const l=[];for(const s in n){const a=n[s];a&&(typeof a=="boolean"?l.push(s):l.push(`${s}="${w(a)}"`))}return l.length&&l.unshift(""),l.join(" ")},k=t=>t&&typeof t!="function"?t:{},c=(t,e)=>{const n=k(e);return({node:l,children:s})=>`<${t}${N(l,n)}>${s}</${t}>`},H=t=>{const e=k(t);return({node:n})=>`<pre${N(n,e)}>${w(n.text)}</pre>`},W=(t,e)=>{const n=k(e);return({node:l})=>{const s={...n,src:l.url,alt:l.alt,copyright:l.copyright};let a=`<img${N(l,s)} />`;return l.linkTo&&(a=S(t)({type:"hyperlink",node:{type:"hyperlink",data:l.linkTo,start:0,end:0},text:"",children:a,key:""})),`<p class="block-img">${a}</p>`}},q=t=>{const e=k(t);return({node:n})=>{const l={...e,"data-oembed":n.oembed.embed_url,"data-oembed-type":n.oembed.type,"data-oembed-provider":n.oembed.provider_name};return`<div${N(n,l)}>${n.oembed.html}</div>`}},S=(t,e)=>{const n=k(e);return({node:l,children:s})=>{const a={...n};return l.data.link_type===f.Web?(a.href=l.data.url,a.target=l.data.target,a.rel="noopener noreferrer"):l.data.link_type===f.Document?a.href=M(l.data,{linkResolver:t}):l.data.link_type===f.Media&&(a.href=l.data.url),`<a${N(l,a)}>${s}</a>`}},U=()=>({text:t})=>t?w(t).replace(/\n/g,"<br />"):"",y=()=>(++y.i).toString();y.i=0;const V=t=>{const e=F(t),n=[];for(let l=0;l<e.length;l++)n.push(R(e[l]));return{key:y(),children:n}},j=(t,e=[])=>({key:y(),type:t.type,text:"text"in t?t.text:void 0,node:t,children:e}),L=t=>j({type:h.span,text:t,spans:[]}),F=t=>{const e=t.slice(0);for(let n=0;n<e.length;n++){const l=e[n];if(l.type===h.listItem||l.type===h.oListItem){const s=[l];for(;e[n+1]&&e[n+1].type===l.type;)s.push(e[n+1]),e.splice(n,1);l.type===h.listItem?e[n]={type:h.list,items:s}:e[n]={type:h.oList,items:s}}}return e},R=t=>{if("text"in t)return j(t,$(t.spans,t));if("items"in t){const e=[];for(let n=0;n<t.items.length;n++)e.push(R(t.items[n]));return j(t,e)}return j(t)},$=(t,e,n)=>{if(!t.length)return[L(e.text)];const l=t.slice(0);l.sort((a,r)=>a.start-r.start||r.end-a.end);const s=[];for(let a=0;a<l.length;a++){const r=l[a],x=n&&n.start||0,g=r.start-x,v=r.end-x,u=e.text.slice(g,v),m=[];for(let d=a;d<l.length;d++){const o=l[d];o!==r&&(o.start>=r.start&&o.end<=r.end?(m.push(o),l.splice(d,1),d--):o.start<r.end&&o.end>r.start&&(m.push({...o,end:r.end}),l[d]={...o,start:r.end}))}a===0&&g>0&&s.push(L(e.text.slice(0,g)));const b={...r,text:u};s.push(j(b,$(m,{...e,text:u},r))),v<e.text.length&&s.push(L(e.text.slice(v,l[a+1]?l[a+1].start-x:void 0)))}return s},G=(t,e)=>A(V(t).children,e),A=(t,e)=>{const n=[];for(let l=0;l<t.length;l++){const s=t[l],a=e(s.type,s.node,s.text,A(s.children,e),s.key);a!=null&&n.push(a)}return n},K={[h.listItem]:"listItem",[h.oListItem]:"oListItem",[h.list]:"list",[h.oList]:"oList"},O=t=>(e,n,l,s,a)=>{const r=t[K[e]||e];if(r)return r({type:e,node:n,text:l,children:s,key:a})},P=(...t)=>(...e)=>{for(let n=0;n<t.length;n++){const l=t[n];if(l){const s=l(...e);if(s!=null)return s}}},T=(t,e)=>{const n=(s,a)=>typeof s=="function"?r=>s(r)||a(r):a,l={heading1:n(e?.heading1,c("h1",e?.heading1)),heading2:n(e?.heading2,c("h2",e?.heading2)),heading3:n(e?.heading3,c("h3",e?.heading3)),heading4:n(e?.heading4,c("h4",e?.heading4)),heading5:n(e?.heading5,c("h5",e?.heading5)),heading6:n(e?.heading6,c("h6",e?.heading6)),paragraph:n(e?.paragraph,c("p",e?.paragraph)),preformatted:n(e?.preformatted,H(e?.preformatted)),strong:n(e?.strong,c("strong",e?.strong)),em:n(e?.em,c("em",e?.em)),listItem:n(e?.listItem,c("li",e?.listItem)),oListItem:n(e?.oListItem,c("li",e?.oListItem)),list:n(e?.list,c("ul",e?.list)),oList:n(e?.oList,c("ol",e?.oList)),image:n(e?.image,W(t,e?.image)),embed:n(e?.embed,q(e?.embed)),hyperlink:n(e?.hyperlink,S(t,e?.hyperlink)),label:n(e?.label,c("span",e?.label)),span:n(e?.span,U())};return B(l)},B=t=>{const e={};for(const n in t){const l=t[n];l&&(e[n]=s=>l({...s,children:s.children.join("")}))}return O(e)},D=(t,...e)=>{if(t){const[n,l]=e;let s;typeof n=="function"||n==null?s={linkResolver:n,serializer:l}:s={...n};let a;return s.serializer?typeof s.serializer=="function"?a=P((r,x,g,v,u)=>s.serializer(r,x,g,v.join(""),u),T(s.linkResolver)):a=T(s.linkResolver,s.serializer):a=T(s.linkResolver),G(t,a).join("")}else return null};function J(t){const[e,n]=p.useState(!1),[l,s]=p.useState(0),[a,r]=p.useState(999);let x=2,g=t.list.reduce((m,b,d,o)=>(d%x===0&&m.push(o.slice(d,d+2)),m),[]);const[v,u]=I({initial:0,disabled:!1,slides:{spacing:36},defaultAnimation:{duration:800},breakpoints:{"(max-width: 991px)":{disabled:!0}},slideChanged(m){s(m.track.details.rel)},created(){n(!0)}});return p.useEffect(()=>{window.innerWidth<992&&r(1)},[]),i.jsxs("div",{className:"resource-dtl-rel",children:[i.jsxs("div",{className:"resource-dtl-rel-head",children:[i.jsx("h3",{className:"heading h4 txt-black txt-up resource-dtl-rel-head-title",children:"related articles"}),e&&u&&t.list.length>x&&i.jsxs("div",{className:"resource-dtl-rel-head-nav",children:[i.jsx("button",{className:"resource-dtl-rel-head-nav-item resource-dtl-rel-head-nav-item-prev",onClick:()=>{u.current.prev()},disabled:u.current.track.details.rel===0,children:i.jsx("div",{className:"ic ic-16",children:t.icArrow})}),i.jsx("button",{className:"resource-dtl-rel-head-nav-item resource-dtl-rel-head-nav-item-next",onClick:()=>{u.current.next()},disabled:u.current.track.details.rel===u.current.track.details.maxIdx,children:i.jsx("div",{className:"ic ic-16",children:t.icArrow})})]})]}),i.jsxs("div",{className:"resource-dtl-rel-main",children:[i.jsx("div",{className:"line"}),i.jsx("div",{className:`keen-slider  resource-dtl-rel-main-inner ${a>=g.length?"all-loaded":""}`,ref:v,style:{"--perView":x},children:g.map((m,b)=>b<a&&i.jsx("div",{className:"keen-slider__slide resource-dtl-rel-main-inner-group",children:m.map((d,o)=>i.jsxs("a",{href:`/resources/${d.uid}`,className:"resource-dtl-rel-main-inner-group-item",children:[i.jsx("div",{className:"resource-dtl-rel-main-inner-group-item-img",children:i.jsx("img",{src:d.data.feature_image.url,alt:d.data.feature_image.alt,width:d.data.feature_image.dimensions.width,className:"img img-fill"})}),i.jsxs("div",{className:"resource-dtl-rel-main-inner-group-item-content",children:[i.jsx("div",{className:"txt txt-20 txt-bold resource-dtl-rel-main-inner-group-item-content-cate",children:d.data.category}),i.jsx("h3",{className:"heading h4 txt-black txt-up resource-dtl-rel-main-inner-group-item-content-title",children:d.data.title}),i.jsx("p",{className:"txt txt-18 txt-med resource-dtl-rel-main-inner-group-item-content-des",children:d.data.sapo}),i.jsx("span",{className:"txt txt-18 txt-med resource-dtl-rel-main-inner-group-item-content-date",children:_(d.last_publication_date)}),i.jsx("div",{className:"line line-ver"}),i.jsx("div",{className:"line"})]})]},o))},b))})]}),i.jsx("div",{className:`resource-dtl-rel-load ${a>=g.length?"hidden":""}`,children:i.jsxs("button",{className:"resource-dtl-rel-load-btn",onClick:()=>r(a+1),children:[i.jsx("div",{className:"resource-dtl-rel-load-btn-ic",children:i.jsx("div",{className:"ic ic-24",children:t.icDropdown})}),i.jsx("div",{className:"txt txt-16 txt-med resource-dtl-rel-load-btn-txt",children:"Load more"})]})})]})}function te({...t}){const[e,n]=p.useState(!1);p.useEffect(()=>{document.querySelectorAll(".resource-dtl-richtxt-main.richtext .block-img").forEach((s,a)=>{if(s.querySelector("img").getAttribute("alt")!==""){let r=document.createElement("p");r.innerHTML=s.querySelector("img").getAttribute("alt"),r.classList.add("block-img-caption"),s.appendChild(r)}})},[]);function l(s){s.preventDefault();var a=t.url;navigator.clipboard.writeText(a).then(function(){n(!0),setTimeout(()=>{n(!1)},2e3)}).catch(function(r){console.error("Failed to copy: ",r)})}return i.jsx("section",{className:"resource-dtl",children:i.jsxs("div",{className:"container grid",children:[i.jsxs("div",{className:"txt txt-20 txt-bold resource-dtl-bread",children:[i.jsx("a",{href:"/",children:"Home"}),i.jsx("div",{className:"txt txt-14 txt-semi resource-dtl-bread-div",children:"/"}),i.jsx("a",{href:"/resources",children:"Resources"}),i.jsx("div",{className:"txt txt-14 txt-semi resource-dtl-bread-div",children:"/"}),i.jsx("a",{href:`/resources/${t.data.category.toLowerCase().replaceAll(" ","-")}`,children:t.data.category})]}),i.jsx("h1",{className:"heading h0 txt-black txt-up resource-dtl-title",children:t.data.title}),i.jsx("div",{className:"line resource-dtl-line"}),i.jsxs("div",{className:"resource-dtl-info",children:[i.jsx("div",{className:"line"}),i.jsxs("div",{className:"resource-dtl-info-stick",children:[i.jsxs("div",{className:"resource-dtl-info-item",children:[i.jsx("div",{className:"txt txt-18 txt-med resource-dtl-info-item-head",children:"Category"}),i.jsx("div",{className:"txt txt-20 txt-bold resource-dtl-info-item-content",children:t.data.category})]}),i.jsxs("div",{className:"resource-dtl-info-item",children:[i.jsx("div",{className:"txt txt-18 txt-med resource-dtl-info-item-head",children:"Updated date"}),i.jsx("div",{className:"txt txt-20 txt-bold resource-dtl-info-item-content",children:_(t.last_publication_date)})]}),i.jsxs("div",{className:"resource-dtl-info-item",children:[i.jsx("div",{className:"txt txt-18 txt-med resource-dtl-info-item-head",children:"Read time"}),i.jsxs("div",{className:"txt txt-20 txt-bold resource-dtl-info-item-content",children:[t.data.read_time,t.data.read_time<=1?" minute":" minutes"]})]}),i.jsxs("div",{className:"resource-dtl-info-item link",children:[i.jsx("button",{className:"resource-dtl-info-item-link",onClick:s=>{l(s)},children:t.icShare}),i.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${t.url}`,target:"_blank",className:"resource-dtl-info-item-link",children:t.icFacebook}),i.jsx("a",{href:`https://www.linkedin.com/sharing/share-offsite/?url=${t.url}`,target:"_blank",className:"resource-dtl-info-item-link",children:t.icLinked}),i.jsx("div",{className:`txt txt-16 txt-semi resource-dtl-info-item-link-tooltip ${e?"active":""}`,children:"Link is copied"})]})]})]}),i.jsxs("div",{className:"resource-dtl-richtxt",children:[i.jsx("div",{className:"line line-ver"}),i.jsxs("div",{className:"resource-dtl-richtxt-wrapper",children:[i.jsx("div",{className:"resource-dtl-richtxt-premble-img",children:i.jsx("img",{src:t.data.feature_image.url,alt:t.data.feature_image.alt,width:t.data.feature_image.dimensions.width,className:"img img-fill"})}),i.jsx("h2",{className:"heading h5 txt-black txt-up resource-dtl-richtxt-premble-sapo",children:t.data.sapo}),i.jsx("div",{className:"txt txt-20 txt-med resource-dtl-richtxt-main richtext",dangerouslySetInnerHTML:{__html:D(t.data.content)}})]})]}),i.jsx("div",{className:"line resource-dtl-line"}),i.jsx(J,{list:t.relList,icArrow:t.arrIcon,icDropdown:t.icDropDown,"client:visible":!0})]})})}export{te as default};
