import{j as e}from"./jsx-runtime.KYujgZxC.js";import{r as s}from"./index.068npczX.js";import{u as A}from"./useOutsideAlerter.EpDpS4QS.js";/* empty css                              */import{m as k}from"./motion.0hdhiry6.js";function C({...t}){return e.jsxs("a",{href:`/kase-studies/${t.uid}`,className:"case-list-item",children:[e.jsx("p",{className:"txt txt-20 txt-bold case-list-item-label",children:t.data.category}),e.jsx("h2",{className:"heading h3 txt-up txt-black case-list-item-title",children:t.data.title[0].text}),e.jsxs("div",{className:"case-list-item-bot",children:[e.jsx("div",{className:"case-list-item-img",children:e.jsx("div",{className:"case-list-item-img-inner",children:e.jsx("img",{className:"img img-h",src:t.data.images[0].image_item.url,alt:"",width:t.data.images[0].image_item.dimensions.width,height:t.data.images[0].image_item.dimensions.height})})}),e.jsxs("div",{className:"case-list-item-link",children:[e.jsx("div",{className:"txt txt-18 txt-bold case-list-item-link-txt",children:"Read more"}),e.jsx("div",{className:"ic ic-16 case-list-item-link-ic",children:t.icArrowExt})]})]}),e.jsx("div",{className:"line line-bot"}),e.jsx("div",{className:"line line-ver"})]})}function g({...t}){return e.jsxs("button",{className:`case-filter-item ${t.isActive?"active":""}`,onClick:t.onClick,"data-filter":t.name,children:[e.jsx("div",{className:"txt txt-20 txt-bold case-filter-item-txt",children:t.name}),e.jsxs("div",{className:"txt txt-12 txt-medium case-filter-item-count",children:["[",t.count,"]"]}),e.jsx("div",{className:"line"})]})}function F({...t}){const{list:c}=t,[o,h]=s.useState("grid"),[l,v]=s.useState("All"),[r,j]=s.useState(c),[n,N]=s.useState(4),[d,m]=s.useState(!1),u=s.useRef();A(u,()=>{m(!1)});const b=s.useMemo(()=>e.jsxs(e.Fragment,{children:[e.jsx(g,{name:"All",count:c.length,isActive:l=="All",onClick:i=>{f(i),m(!1)}}),t.cateList.map((i,a)=>e.jsx(g,{name:i,count:c.filter(x=>x.data.category==i).length,isActive:l==i,onClick:x=>{f(x),m(!1)}},a))]}),[l]),w=s.useMemo(()=>r.map((i,a)=>a<n?e.jsx(C,{...i,icArrowExt:t.icArrowExt},i.uid):""),[r,n]);function f(i){let a=i.target.dataset.filter;v(a)}return s.useEffect(()=>{if(l=="All")j(c);else{let i=c.filter(a=>a.data.category==l);j(i)}},[l]),s.useEffect(()=>{console.log(d)},[d]),e.jsxs("section",{className:"case-main",children:[e.jsx("div",{className:"case-filter",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"line line-top"}),e.jsxs("div",{className:"case-filter-inner",children:[e.jsxs("div",{className:"case-filter-list",ref:u,children:[e.jsxs("button",{className:"case-filter-list-toggle",onClick:i=>{m(!d)},children:[e.jsx("div",{className:"txt txt-18 txt-bold case-filter-list-toggle-txt",children:l=="All"?"All Categories":l}),e.jsx("div",{className:`ic ic-20 case-filter-list-toggle-ic ${d?"open":""}`,children:t.icDropdown})]}),e.jsx("div",{className:`case-filter-list-dropdown ${d?"active":""}`,children:b})]}),e.jsxs("div",{className:"case-filter-view",children:[e.jsx("button",{className:`case-filter-view-item ${o=="list"&&"active"}`,onClick:()=>h("list"),children:e.jsx("div",{className:"ic ic-16",children:t.icViewList})}),e.jsx("button",{className:`case-filter-view-item ${o=="grid"&&"active"}`,onClick:()=>h("grid"),children:e.jsx("div",{className:"ic ic-16",children:t.icViewGrid})})]})]}),e.jsx("div",{className:"line line-bot"})]})}),e.jsx("div",{className:"case-list",children:e.jsxs("div",{className:"container",children:[e.jsx(k.div,{layout:!0,transition:{duration:.3},className:`case-list-inner ${o=="list"?"layout-list":""} ${n>=r.length?"all-loaded":""}`,children:w}),e.jsx("div",{className:`case-list-load ${n>=r.length?"hidden":""}`,children:e.jsxs("button",{className:"case-list-load-btn",onClick:()=>N(n+4),children:[e.jsx("div",{className:"case-list-load-btn-ic",children:e.jsx("div",{className:"ic ic-24",children:t.icArrowDown})}),e.jsx("div",{className:"txt txt-20 txt-med case-list-load-btn-txt",children:"Load more"})]})})]})})]})}export{F as default};
